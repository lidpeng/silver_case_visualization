<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenClaw Swarm - 白银价格分析案例</title>
  <link rel="stylesheet" href="styles.css">
  <script src="i18n.js"></script>
</head>
<body>
  <div class="main-container">
    <!-- 左侧对话框 -->
    <div class="chat-panel">
      <div class="chat-header">
        <h2>💬 对话记录</h2>
        <div class="chat-info">白银价格分析项目</div>
      </div>
      <div class="chat-messages" id="chatMessages">
        <!-- 消息将通过 JS 动态加载 -->
      </div>
    </div>

    <!-- 右侧内容区 -->
    <div class="content-panel">
      <!-- 上方蜂群展示区（可收缩） -->
      <div class="swarm-section" id="swarmSection">
        <div class="swarm-header" onclick="toggleSwarm()">
          <h3>🦞 智能体集群工作流</h3>
          <button class="toggle-btn" id="toggleBtn">▼</button>
        </div>
        <div class="swarm-content" id="swarmContent">
          <div class="workflow-diagram">
            <!-- 阶段 0: 主智能体任务分析 -->
            <div class="workflow-stage">
              <div class="stage-title">📋 任务分析</div>
              <div class="agents-row">
                <div class="agent-card completed">
                  <div class="agent-icon">🤖</div>
                  <div class="agent-name">主智能体</div>
                  <div class="agent-task">分析用户需求</div>
                  <div class="agent-status">✅ 完成</div>
                </div>
              </div>
            </div>

            <div class="workflow-arrow">↓</div>

            <!-- 阶段 0.5: 任务拆解 -->
            <div class="workflow-stage">
              <div class="stage-title">🔧 任务拆解</div>
              <div class="agents-row">
                <div class="agent-card completed">
                  <div class="agent-icon">🤖</div>
                  <div class="agent-name">主智能体</div>
                  <div class="agent-task">拆解为子任务</div>
                  <div class="agent-status">✅ 完成</div>
                </div>
              </div>
            </div>

            <div class="workflow-arrow">↓</div>

            <!-- 阶段 1: 并行调研 -->
            <div class="workflow-stage">
              <div class="stage-title">🔍 并行调研</div>
              <div class="agents-row">
                <div class="agent-card completed">
                  <div class="agent-icon">🔍</div>
                  <div class="agent-name">Researcher #1</div>
                  <div class="agent-task">客观数据</div>
                  <div class="agent-status">✅ 3分钟</div>
                </div>
                <div class="agent-card completed">
                  <div class="agent-icon">🔍</div>
                  <div class="agent-name">Researcher #2</div>
                  <div class="agent-task">看多观点</div>
                  <div class="agent-status">✅ 3分钟</div>
                </div>
                <div class="agent-card completed">
                  <div class="agent-icon">🔍</div>
                  <div class="agent-name">Researcher #3</div>
                  <div class="agent-task">看空观点</div>
                  <div class="agent-status">✅ 3分钟</div>
                </div>
              </div>
            </div>

            <div class="workflow-arrow">↓</div>

            <!-- 阶段 2: 文章撰写 -->
            <div class="workflow-stage">
              <div class="stage-title">✍️ 撰写</div>
              <div class="agents-row">
                <div class="agent-card completed">
                  <div class="agent-icon">✍️</div>
                  <div class="agent-name">Writer</div>
                  <div class="agent-task">整合撰写</div>
                  <div class="agent-status">✅ 2分钟</div>
                </div>
              </div>
            </div>

            <div class="workflow-arrow">↓</div>

            <!-- 阶段 3: 事实审核 -->
            <div class="workflow-stage">
              <div class="stage-title">🔎 审核</div>
              <div class="agents-row">
                <div class="agent-card completed">
                  <div class="agent-icon">🔎</div>
                  <div class="agent-name">Reviewer</div>
                  <div class="agent-task">事实审核</div>
                  <div class="agent-status">✅ 1分钟</div>
                </div>
              </div>
            </div>

            <div class="workflow-arrow">↓</div>

            <!-- 阶段 4: 网页开发 -->
            <div class="workflow-stage">
              <div class="stage-title">👨‍💻 开发</div>
              <div class="agents-row">
                <div class="agent-card completed">
                  <div class="agent-icon">👨‍💻</div>
                  <div class="agent-name">Coder</div>
                  <div class="agent-task">网页开发</div>
                  <div class="agent-status">✅ 10分钟</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 下方网页展示区 -->
      <div class="preview-section">
        <div class="preview-header">
          <h3>🌐 生成网页预览</h3>
          <div class="preview-controls">
            <div class="language-switcher">
              <button class="lang-btn" data-lang="zh" onclick="switchLanguage('zh')">中文</button>
              <button class="lang-btn" data-lang="en" onclick="switchLanguage('en')">English</button>
            </div>
            <button class="control-btn" onclick="refreshPreview()">🔄 刷新</button>
            <button class="control-btn" onclick="openInNewTab()">🔗 新标签打开</button>
          </div>
        </div>
        <div class="preview-content">
          <iframe id="previewFrame" src="silver-analysis-preview.html"></iframe>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
